{
  "schema_version": 1,
  "packet_id": "FNP-P2C-002",
  "subtask_id": "FNP-P2C-002-H",
  "generated_at_unix_ms": 1771361985646,
  "environment_fingerprint": "os=linux arch=x86_64 cpus=128 rustc=rustc 1.95.0-nightly (a423f68a0 2026-02-13)",
  "reproducibility_command": "cargo run -p fnp-conformance --bin generate_packet002_optimization_report",
  "lever": {
    "id": "P2C002-H-LEVER-001",
    "description": "Use precomputed packet-002 dtype fixture ID maps for workflow-step dispatch",
    "rationale": "Packet-002 workflow replay repeatedly resolves dtype differential and adversarial fixture IDs for strict/hardened scenario steps; replacing repeated linear scans with precomputed HashMap lookups removes O(n) per-step lookup overhead while preserving deterministic fixture resolution semantics.",
    "risk_note": "Optimization only changes fixture-ID lookup strategy in workflow dispatch; fixture payload selection, step ordering, and reason-code outcomes remain unchanged.",
    "rollback_command": "git restore --source <last-green-commit> -- crates/fnp-conformance/src/workflow_scenarios.rs"
  },
  "baseline_profile": {
    "implementation": "baseline_linear_id_scan",
    "runs": 80,
    "lookups_per_run": 294912,
    "percentiles": {
      "p50_ms": 1783.370971,
      "p95_ms": 1920.195935,
      "p99_ms": 1954.6608729999998,
      "min_ms": 1742.595621,
      "max_ms": 1956.8939910000001
    },
    "throughput_lookups_per_sec_p50": 165367.72482880118,
    "throughput_lookups_per_sec_p95": 153584.32679944194
  },
  "rebaseline_profile": {
    "implementation": "rebaseline_hash_map_lookup",
    "runs": 80,
    "lookups_per_run": 294912,
    "percentiles": {
      "p50_ms": 104.23473,
      "p95_ms": 108.49558900000001,
      "p99_ms": 109.52476899999999,
      "min_ms": 102.118162,
      "max_ms": 111.267225
    },
    "throughput_lookups_per_sec_p50": 2829306.5084928987,
    "throughput_lookups_per_sec_p95": 2718193.455772658
  },
  "delta": {
    "p50_delta_percent": -94.1551852253403,
    "p95_delta_percent": -94.34976467648859,
    "p99_delta_percent": -94.39673804735743,
    "throughput_gain_percent_p50": 1610.9182045178227,
    "throughput_gain_percent_p95": 1669.8377903639932
  },
  "ev": {
    "impact": 4.0,
    "confidence": 4.0,
    "reuse": 4.0,
    "effort": 2.0,
    "adoption_friction": 1.0,
    "score": 32.0,
    "promoted": true
  },
  "isomorphism_checks": [
    {
      "case_id": "lookup_hit::dtype002_bool_i32_golden",
      "status": "pass",
      "details": "linear=Some(0) mapped=Some(0)"
    },
    {
      "case_id": "lookup_hit::dtype002_i32_i64_golden",
      "status": "pass",
      "details": "linear=Some(1) mapped=Some(1)"
    },
    {
      "case_id": "lookup_hit::dtype002_i32_f32_golden",
      "status": "pass",
      "details": "linear=Some(2) mapped=Some(2)"
    },
    {
      "case_id": "lookup_hit::dtype002_f32_f64_golden",
      "status": "pass",
      "details": "linear=Some(3) mapped=Some(3)"
    },
    {
      "case_id": "lookup_hit::dtype002_bool_f64_golden",
      "status": "pass",
      "details": "linear=Some(4) mapped=Some(4)"
    },
    {
      "case_id": "lookup_miss",
      "status": "pass",
      "details": "linear=None mapped=None"
    },
    {
      "case_id": "full_workload_checksum",
      "status": "pass",
      "details": "linear_checksum=4158251904 mapped_checksum=4158251904"
    }
  ]

}
